% Моя преамбула

% Математические формулы
\usepackage{amsmath}%,amssymb,amsfonts,pxfonts}
\usepackage{unicode-math}

% Переносы слов
\usepackage{polyglossia}
\setmainlanguage{russian}
\setotherlanguage{english}
\sloppy
\PolyglossiaSetup{russian}{indentfirst=true}

% Форматирование текста и математических формул
%\setmainfont{XITS}
%\setmathfont{XITS Math}

\setmainfont
[    Extension = .otf,
   UprightFont = *-regular,
      BoldFont = *-bold,
    ItalicFont = *-italic,
BoldItalicFont = *-bolditalic,
]{xits}

\setmathfont
[    Extension = .otf,
      BoldFont = *bold,
]{xits-math}

\usepackage[Symbol]{upgreek}

% Жирный курсив
\newcommand{\boldit}[1]{\textbf{\textit{#1}}}
% Мануальная нумерация
\usepackage{enumerate}

% Секции по центру
\usepackage{titlesec}
\titleformat*{\section}{\centering\normalfont\large\bfseries}
% \titleformat*{\subsection}{\normalfont\normalsize\bfseries}
\titleformat{\subsection}[block]{\hspace{\parindent}\bfseries}{\thesubsection}{0.2cm}{}
% Секции без нумерации
\newcommand{\anonsection}[1]{\section*{#1}\addcontentsline{toc}{section}{#1}}
% Нумерация картинок и таблиц
\usepackage{chngcntr}
\counterwithin{figure}{section}
\counterwithin{table}{section}

% Картинки
\usepackage[final]{graphicx}
\graphicspath{{../results/}} % images folder
% Вставить картинку
\newcommand{\imgh}[5][h]
{
    \begin{figure}[#1]
    \centering
    \includegraphics[#3]{#2}
    \caption{#4}
    \label{ris:#5}
    \end{figure}
}
%example: \imgh{1.pdf}{width=0.93\textwidth}{Image}{img}
\RequirePackage{caption}
\DeclareCaptionLabelSeparator{dot}{. }
\captionsetup{justification=centering,labelsep=dot}

% Поля страницы
\usepackage[left=2cm,right=2cm,top=2.5cm,bottom=2.5cm]{geometry}

% Полуторный интервал
\linespread{1.3}
% Нумерация страниц
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhead{} % No page header
\fancyfoot[L]{} % Empty
\fancyfoot[C]{} % Empty
\fancyfoot[R]{\thepage} % Remove headlines
% Remove header underlines
\renewcommand{\headrulewidth}{0pt}

% Таблицы
\usepackage{multirow}
\usepackage{tabularx}
\newcolumntype{Y}{>{\centering\arraybackslash}X}
\newcolumntype{R}{>{\raggedleft\arraybackslash}X}
\renewcommand{\tabularxcolumn}[1]{>{\normalsize}b{#1}}
% Подгон больших таблиц под размер страницы
\usepackage{adjustbox}
\usepackage{bigstrut}
\usepackage{color,colortbl}
\definecolor{Gray}{gray}{0.9}

\renewcommand{\abstractname}{Аннотация}
\bibliographystyle{abbrv}

% Пакет для алгоритмов
\usepackage{algorithm}
\usepackage{algpseudocode}
\renewcommand{\algorithmicrequire}{\textbf{Вход:}}
\renewcommand{\algorithmicensure}{\textbf{Выход:}}
\floatname{algorithm}{Алгоритм}